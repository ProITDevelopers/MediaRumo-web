<div class="container-fluid" ><!--Inicio div container-fluid-->
  <!--Inicio div imagem-->
  <div class="row"><!--Inicio div row-->
    <div class="col-md-7"><!--Inicio div imagem-->
      <img  [src]="image" alt="img-concurso">
    </div><!--Fim div imagem-->
    
    <div class="col-md-5" ><!--Inicio div inscricao-->
      <h2 class="text-center my-5">Inscrição Sorteio Media Rumo</h2>
      <!--inicio form-->
      <form (ngSubmit)="validarSubscritor(subscritorF)" #subscritorF="ngForm" novalidate >
        <div class="form-group row"><!--Inicio div row-->
          <!--Inicio div nome--> 
          <div class="col-sm-6">
            <label class=" col-form-label" for="nome1">Nome próprio<span >*</span></label>
            <div  [class.has-success]="nome.valid && ( nome.dirty || nome.touched)" [class.has-danger]="!nome.valid && ( nome.dirty || nome.touched)"> 
              <div class="input-group ">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="sizing-addon1"><i class="fa fa-user"></i></span>
                </div>
                <input type="text" class="form-control" placeholder="Escreva o seu nome" required name="nome" id="nome1" [(ngModel)]="subscritor.nomeProprio" pattern="^[a-zA-Z]{1,20}$" #nome="ngModel" autocomplete="off">
              </div>
              <div class="mt-1" *ngIf="!nome.valid && ( nome.dirty || nome.touched)">
                <span *ngIf="nome.errors.required" class="form-text">*Campo obrigatório.</span>
                <span *ngIf="nome.errors.pattern" class="form-text"><i class="fa fa-remove"></i> Formato inválido. Deve ter apenas letras.</span>
              </div>
            </div> 
          </div><!--fim div nome-->
          <div class="col-sm-6"><!--Inicio div apelido-->
            <label class=" col-form-label" for="apelido1">Apelido<span>*</span></label>
            <div  [class.has-success]="apelido.valid && ( apelido.dirty || apelido.touched)" [class.has-danger]="!apelido.valid && ( apelido.dirty || apelido.touched)"> 
              <div class="input-group ">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="sizing-addon2"><i class="fa fa-user"></i></span>
                </div>
                <input type="text" class="form-control" placeholder="Escreva o seu apelido" required name="apelido" id="apelido1" [(ngModel)]="subscritor.apelido" pattern="^[a-zA-Z]{1,20}$" #apelido="ngModel" autocomplete="off">
              </div>
              <div class="mt-1" *ngIf="!apelido.valid && ( apelido.dirty || apelido.touched)">
                <span *ngIf="apelido.errors.required" class="form-text">*Campo obrigatório.</span>
                <span *ngIf="apelido.errors.pattern" class="form-text"><i class="fa fa-remove"></i> Formato inválido. Deve ter apenas letras.</span>
              </div>
            </div> 
          </div><!--fim div apelido-->
        </div> <!--fim div row-->
        <div class="form-group row"><!--inicio div row-->
          <div class="col-sm-6" ><!--inicio div datanascimento-->
            <label class=" col-form-label" for="dataNascimento1">Data de nascimento<span >*</span></label> 
            <div [class.has-success]="dtnasc.valid && ( dtnasc.dirty || dtnasc.touched)" [class.has-danger]="!dtnasc.valid && ( dtnasc.dirty || dtnasc.touched)">
              <input type="date" name="dtnasc" id="dataNascimento1" [min]="minDate1" [max]="maxDate1"  [(ngModel)]="dataNascimento" class="form-control" required #dtnasc="ngModel"/>
              <div class="mt-1" *ngIf="!dtnasc.valid && ( dtnasc.dirty || dtnasc.touched)">
                <span *ngIf="dtnasc.errors.required" class="form-text">*Campo obrigatório.</span>
                <!-- <span *ngIf="dtnasc.errors.pattern" class="form-text"><i class="fa fa-remove"></i>pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" Data de nascimento inválida</span> -->
                <span *ngIf="dtnasc.errors.min" class="form-text"><i class="fa fa-remove"></i> Deve ter entre 18 e 100 anos de idade.</span>
                <span *ngIf="dtnasc.errors.max" class="form-text"><i class="fa fa-remove"></i> Deve ter entre 18 e 100 anos de idade.</span>
              </div>

            </div>
            <!-- <div class="input-group">
              <input type="text" name="dtnasc" class="form-control" [(ngModel)]="dataNascimento" id="dataNascimento1" placeholder="Data de nascimento" #dp="bsDatepicker"
             bsDatepicker [minDate]="minDate" [maxDate]="maxDate" [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',containerClass:'theme-blue' }" required readonly>
              <div class="input-group-prepend"> 
                <span class="input-group-text" id="basic-addon" (click)="dp.toggle()" [attr.aria-expanded]="dp.isOpen">
                <i class="fa fa-calendar"></i>
                </span>
              </div>
            </div> -->
          </div><!--fim div datanascimento-->
          <div class="col-sm-6"><!--Inicio div bi-->
            <label class="col-form-label" for="bi1">Bilhete de identidade<span >*</span></label>
            <div [class.has-success]="bi.valid && ( bi.dirty || bi.touched)" [class.has-danger]="!bi.valid && ( bi.dirty || bi.touched)">  
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="sizing-addon3"><i class="fa fa-file-text"></i></span>
                </div>
                <input type="text" class="form-control" placeholder="123456789AZ001" required maxlength="14" minlength="14" name="bi" id="bi1" [(ngModel)]="subscritor.bi" #bi="ngModel" pattern="^[0-9]{9}[A-Z]{2}[0-9]{3}" autocomplete="off">
              </div>
              <div class="mt-1" *ngIf="!bi.valid && ( bi.dirty || bi.touched)">
                <span *ngIf="bi.errors.required" class="form-text">*Campo obrigatório.</span>
                <span *ngIf="bi.errors.minlength" class="form-text"><i class="fa fa-remove"></i> Deve ter 14 caracteres</span>
                <span *ngIf="bi.errors.pattern" class="form-text"><i class="fa fa-remove"></i> Formato inválido. Deve ser 123456789AZ001.</span>
              </div>
            </div>
            <span style="color: red" *ngIf="dados?.bi">{{dados.bi}}</span>
          </div><!--fim div bi-->
        </div><!--fim div row-->
        <div class="form-group row"> <!--Inicio div row-->
          <div class="col-sm-6"><!--Inicio div email-->
            <label class="col-form-label" for="email1">E-mail<span >*</span></label>
            <div  [class.has-success]="email.valid && ( email.dirty || email.touched)" [class.has-danger]="!email.valid && ( email.dirty || email.touched)">  
              <div class="input-group">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="sizing-addon4"><i class="fa fa-envelope"></i></span>
                </div>
                <input type="email" class="form-control" placeholder="email@email.com" required pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" name="email" id="email1" [(ngModel)]="subscritor.email" #email="ngModel" autocomplete="off">
              </div>
              <div class="mt-1" *ngIf="!email.valid && (email.dirty || email.touched)">
                <span *ngIf="email.errors.required" class="form-text">*Campo obrigatório.</span>
                <span *ngIf="email.errors.pattern" class="form-text"><i class="fa fa-remove"></i> Email inválido</span>
              </div> 
            </div> 
            <span style="color: red" *ngIf="dados?.email">{{dados.email}}</span>
          </div> <!--Fim div email-->
          <div class="col-sm-6"><!--Inicio div telemovel-->
            <label class="col-form-label" for="telefone1">Nº Telemóvel<span >*</span></label>
            <div [class.has-success]="telefone.valid && (telefone.dirty || telefone.touched)" [class.has-danger]="!telefone.valid && (telefone.dirty || telefone.touched)">  
              <div class="input-group">
                <div class="input-group-prepend"> 
                  <span class="input-group-text" id="sizing-addon5"><i class="fa fa-phone"></i></span>
                </div>
                <input type="text" class="form-control" placeholder="Nº de telefone" required  name="telefone" id="telefone1" minlength="9" maxlength="9" [(ngModel)]="subscritor.telemovel" #telefone="ngModel" autocomplete="off" pattern="^[0-9]*$">
              </div>
              <div class="mt-1" *ngIf="!telefone.valid && (telefone.dirty || telefone.touched)">
                <span *ngIf="telefone.errors.required" class="form-text">*Campo obrigatório. </span>
                <span *ngIf="telefone.errors.minlength" class="form-text"><i class="fa fa-remove"></i> Deve ter no mínimo 9 dígitos</span>
                <span *ngIf="telefone.errors.pattern" class="form-text"><i class="fa fa-remove"></i> Formato inválido</span>
              </div>
            </div>
            <span style="color: red" *ngIf="dados?.telemovel">{{dados.telemovel}}</span>
          </div><!--fim div telemovel-->
        </div><!--fim div row-->
        <div class="form-group row"><!--Inicio div row--> 
          <div class="col-sm-6"><!--Inicio div cidade-->
            <label class="col-form-label" for="cidade1">Endereço de correspondência - Cidade<span >*</span></label>
            <div  [class.has-success]="cidade.valid && ( cidade.dirty || cidade.touched)" [class.has-danger]="!cidade.valid && ( cidade.dirty || cidade.touched)">
              <select class="form-control" name="cidade" id="cidade1" [(ngModel)]="subscritor.cidade" (change)="onSelect($event.target.value)" #cidade="ngModel" required>
                  <option *ngIf="cidades==null" value="">--Escolha a cidade--</option>  
                    <option *ngFor=" let cidade of cidades | async" [value]="cidade.provincia">{{cidade.provincia}}</option> 
              </select>
              <!--<input type="text" class="form-control" placeholder="Escreva a cidade" required name="cidade" id="cidade1" [(ngModel)]="subscritor.cidade" #cidade="ngModel" autocomplete="off">-->
              <div class="mt-1" *ngIf="!cidade.valid && ( cidade.dirty || cidade.touched)">
                <span *ngIf="cidade.errors.required" class="form-text">*Campo obrigatório.</span>
              </div>
            </div>
          </div>
          <div class="col-sm-6"><!-- Inicio div municipio -->
            <label class="col-form-label" for="municipio1">Endereço de correspondência - Município<span >*</span></label>
            <div  [class.has-success]="municipio.valid && ( municipio.dirty || municipio.touched)" [class.has-danger]="!municipio.valid && ( municipio.dirty || municipio.touched)">
              <!--<input type="text" class="form-control" placeholder="Escreva o município"  name="municipio" id="municipio1" [(ngModel)]="subscritor.municipio" #municipio="ngModel" autocomplete="off" required>--> 
              <select class="form-control" name="municipio" id="municipio1" [(ngModel)]="subscritor.municipio" #municipio="ngModel" required>
                <option *ngIf="municipios == null" value="">--Escolha o município--</option><!--*ngIf="(municipios | async)?.length == 0"-->
                    <option *ngFor=" let municipio1 of municipios | async" [value]="municipio1.municipio">  {{municipio1.municipio}}
                    </option>
              </select>
              <div class="mt-1" *ngIf="!municipio.valid && ( municipio.dirty || municipio.touched)">
                <span *ngIf="municipio.errors.required" class="form-text">*Campo obrigatório.</span>
              </div>
            </div> 
          </div><!--fim div municipio-->
        </div><!--fim div row--> 
        <div class="form-group form-check"><!--Inicio div check termo-->
          <input type="checkbox" class="form-check-input" id="exampleCheck1" [checked]="termo" (change)="termo= !termo">
          <label class="form-check-label" for="exampleCheck1">Concordo com a <a href="assets/politica de privacidade.pdf" target="_blank" rel="noopener">Política de Privacidade</a> e os <a href="assets/termosCondicoes.pdf" target="_blank" rel="noopener">Termos de Serviço</a></label>
           <label class="col-form-label" for="exampleInfo"><!-- <span style="color: red;">* </span> --> O custo de adesão ao concurso é de: 5000 kz</label>
        </div><!--fim div check termo-->
        <div class="form-group row"><!--Inicio div row-->
          <div class="col-sm-9"><!--Inicio div button-->
             <button type="submit" id="myButton" class="btn btn-default mr-1" [disabled]="!subscritorF.form.valid || !termo"> Registrar </button>

            <button type="button" class="btn btn-outline-secondary" (click)="clean(subscritorF)"> Repor </button>
          </div><!--fim div button-->
        </div><!--fim div row-->
        <div class="alert alert-success" role="alert" *ngIf="mensagem"><!--Inicio div sucesso-->
          <i class="fa fa-check "></i> {{mensagem}}
        </div><!--fim div sucesso-->
        <!-- <span style="color: red" ></span> -->
      </form><!--fim form-->
    </div><!--Fim div inscricao-->
  </div><!--fim div row-->
</div><!--fim div container-fluid-->  

<div id="modalTrigger" data-toggle="modal" data-target="#exampleModal"></div>
<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Confirmar Inscrição</h5>
        <!-- <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>-->
      </div>
      <div class="modal-body">
        <div class="container"> 
          <p class="text-left">Enviamos um código de confirmação para o seu número de telefone +244 {{subscritor.telemovel}} </p>
          <p *ngIf="subscritor.telemovel"><a href="#" (click)="validarSubscritor(subscritorF)">Não recebeu o código?</a></p> 
          <h5>Insira o código de 6 dígitos: </h5> 
          <!--<div class="col-xs-6 ml-2">-->
            <!--inicio form-->
            <form (ngSubmit)="cadastrarSubscritor(validarF)" #validarF="ngForm" novalidate >
              <div class="form-group phone-number row mb-2">
                <div class="col-xs-1 mr-2 mb-1">
                  <input type="tel" id="c1" name="phone1" class="form-control input" value="" size="1" maxlength="1" pattern="[0-9]{1}" [(ngModel)]="codigo1" #ccodigo1="ngModel" required title="" (keyup)="keytab($event,1)" autocomplete="off">
                </div>
                <div class="col-xs-1 mr-2  mb-1">
                  <input type="tel" id="c2" name="phone2" class="form-control input" value="" size="1" maxlength="1" pattern="[0-9]{1}" [(ngModel)]="codigo2" #ccodigo2="ngModel" required title="" (keyup)="keytab($event,1)" autocomplete="off">
                </div>
                <div class="col-xs-1 mr-2  mb-1">
                  <input type="tel" id="c3" name="phone3" class="form-control input" value="" size="1" maxlength="1" pattern="[0-9]{1}" [(ngModel)]="codigo3" #ccodigo3="ngModel" required title="" (keyup)="keytab($event,1)" autocomplete="off">
                </div>
                <div class="col-xs-1 mr-2 mb-1">
                  <input type="tel" id="c4" name="phone4" class="form-control input" value="" size="1" maxlength="1" pattern="[0-9]{1}" [(ngModel)]="codigo4" #ccodigo4="ngModel" required title="" (keyup)="keytab($event,1)" autocomplete="off">
                </div>
                <div class="col-xs-1 mr-2 mb-1">
                  <input type="tel" id="c5" name="phone5" class="form-control input" value="" size="1" maxlength="1" pattern="[0-9]{1}" [(ngModel)]="codigo5" #ccodigo5="ngModel" required title="" (keyup)="keytab($event,1)" autocomplete="off">
                </div>
                <div class="col-xs-1 mr-2 mb-1">
                  <input type="tel" id="c6" name="phone6" class="form-control input" value="" size="1" maxlength="1" pattern="[0-9]{1}" [(ngModel)]="codigo6" #ccodigo6="ngModel" required title="" autocomplete="off">
                </div>
              </div>
              <span class="mb-5" style="color: red" *ngIf="mensagemChave">{{mensagemChave}}</span>
              <!-- --><div class="form-group row">
                <div class="col-sm-9">
                  <button type="submit" class="btn btn-primary btn-md mr-1" id="validar"
                  [disabled]="!validarF.form.valid">Enviar</button>
                  <button type="button" class="btn btn-danger" (click)="cancelar(validarF)" data-dismiss="modal"> Cancelar </button>
                </div>
              </div> 
            </form><!--fim form-->
          <!-- </div> -->
        </div>
      </div>
      <!-- <div class="modal-footer">
        <button type="submit" class="btn btn-primary btn-md mr-1" id="validar" [disabled]="!validarF.form.valid">Enviar</button>
        <button type="button" class="btn btn-danger" (click)="cancelar(validarF)" data-dismiss="modal"> Cancelar </button>
      </div>-->
    </div>
  </div>
</div><!--fim modal-->